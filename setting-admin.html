<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Admin Dashboard</title>
    <meta name="robots" content="noindex, nofollow">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 400% 400%;
            animation: backgroundShift 15s ease infinite;
            min-height: 100vh;
            color: #333;
        }

        @keyframes backgroundShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .admin-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.1);
            padding: 20px 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }

        .admin-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            font-size: 1.8em;
            font-weight: bold;
            color: #ff6b6b;
            text-decoration: none;
            border-bottom: 2px solid #eee;
            margin-bottom: 30px;
        }

        .admin-logo::before {
            content: "üéÆ";
            margin-right: 10px;
            font-size: 1.2em;
        }

        .admin-logo::after {
            content: "‚öôÔ∏è";
            margin-left: 10px;
            font-size: 0.8em;
        }

        .admin-nav {
            list-style: none;
            padding: 0 20px;
        }

        .admin-nav li {
            margin-bottom: 10px;
        }

        .admin-nav a {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            color: #666;
            text-decoration: none;
            border-radius: 15px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .admin-nav a:hover, .admin-nav a.active {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .admin-nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .admin-nav a:hover::before {
            transform: translateX(100%);
        }

        .nav-icon {
            font-size: 1.3em;
            margin-right: 12px;
            width: 25px;
            text-align: center;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 30px;
        }

        .page-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .page-title {
            font-size: 2.5em;
            color: #ff6b6b;
            margin-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .page-subtitle {
            color: #666;
            font-size: 1.2em;
        }

        /* Settings Navigation */
        .settings-nav {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .nav-tabs {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .nav-tab {
            background: white;
            border: 2px solid #ddd;
            padding: 12px 25px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #666;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-tab:hover, .nav-tab.active {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border-color: transparent;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Settings Sections */
        .settings-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .settings-section.active {
            display: block;
        }

        .section-title {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .setting-group {
            margin-bottom: 25px;
        }

        .setting-group.full-width {
            grid-column: 1 / -1;
        }

        .setting-label {
            display: block;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .setting-input,
        .setting-select,
        .setting-textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 15px;
            font-size: 1em;
            font-family: inherit;
            transition: all 0.3s ease;
            outline: none;
        }

        .setting-input:focus,
        .setting-select:focus,
        .setting-textarea:focus {
            border-color: #ff6b6b;
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.2);
        }

        .setting-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .setting-help {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ddd;
            transition: .4s;
            border-radius: 30px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(30px);
        }

        .toggle-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .toggle-label {
            font-weight: 600;
            color: #333;
        }

        /* Color Picker */
        .color-picker-group {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .color-input {
            width: 60px;
            height: 40px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .color-input:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Upload Area */
        .upload-area {
            border: 3px dashed #ddd;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .upload-area:hover {
            border-color: #ff6b6b;
            background: rgba(255, 107,107, 0.05);
        }
        .upload-area:hover {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.05);
        }

        .upload-icon {
            font-size: 3em;
            color: #ddd;
            margin-bottom: 15px;
            display: block;
        }

        .upload-text {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 10px;
        }

        .upload-subtext {
            font-size: 0.9em;
            color: #999;
        }

        .file-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 2px solid #eee;
        }

        .action-btn {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .action-btn.secondary {
            background: #f8f9fa;
            color: #666;
            border: 2px solid #ddd;
        }

        .action-btn.secondary:hover {
            background: #e9ecef;
            border-color: #adb5bd;
        }

        .action-btn.danger {
            background: linear-gradient(45deg, #F44336, #FF5722);
        }

        /* Status Cards */
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .status-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .status-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .status-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .status-card:hover::before {
            transform: translateX(100%);
        }

        .status-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
            display: block;
        }

        .status-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .status-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 5px;
        }

        .status-description {
            color: #666;
            font-size: 0.9em;
        }

        /* Backup Section */
        .backup-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .backup-info {
            flex: 1;
        }

        .backup-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .backup-date {
            color: #666;
            font-size: 0.9em;
        }

        .backup-actions {
            display: flex;
            gap: 10px;
        }

        .backup-btn {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 10px;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .backup-btn:hover {
            transform: scale(1.05);
        }

        .backup-btn.danger {
            background: linear-gradient(45deg, #F44336, #FF5722);
        }

        /* Security Section */
        .security-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: white;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .security-info {
            flex: 1;
        }

        .security-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .security-description {
            color: #666;
            font-size: 0.95em;
            line-height: 1.4;
        }

        .security-status {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .security-status.secure {
            color: #4CAF50;
        }

        .security-status.warning {
            color: #FF9800;
        }

        .security-status.danger {
            color: #F44336;
        }

        /* Success Message */
        .success-message {
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            display: none;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Loading Overlay */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            z-index: 9999;
            backdrop-filter: blur(5px);
        }

        .loading-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #ff6b6b;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Mobile Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.mobile-open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 20px 15px;
            }

            .page-title {
                font-size: 2em;
            }

            .settings-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .nav-tabs {
                flex-direction: column;
            }

            .action-buttons {
                flex-direction: column;
                align-items: stretch;
            }

            .status-grid {
                grid-template-columns: 1fr;
            }

            .backup-item,
            .security-item {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }

        /* Mobile Menu Button */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 10px;
            font-size: 1.2em;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        @media (max-width: 1024px) {
            .mobile-menu-btn {
                display: block;
            }
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>
        
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <a href="/admin" class="admin-logo">ImiGames Admin</a>
            
            <ul class="admin-nav">
                <li><a href="/admin">
                    <span class="nav-icon">üìä</span>
                    Dashboard
                </a></li>
                <li><a href="/admin/games">
                    <span class="nav-icon">üéÆ</span>
                    Games Management
                </a></li>
                <li><a href="/admin/add-game">
                    <span class="nav-icon">‚ûï</span>
                    Add New Game
                </a></li>
                <li><a href="/admin/categories">
                    <span class="nav-icon">üìÇ</span>
                    Categories
                </a></li>
                <li><a href="/admin/add-category">
                    <span class="nav-icon">üè∑Ô∏è</span>
                    Add Category
                </a></li>
                <li><a href="/admin/users">
                    <span class="nav-icon">üë•</span>
                    Users Management
                </a></li>
                <li><a href="/admin/statistics">
                    <span class="nav-icon">üìà</span>
                    Statistics
                </a></li>
                <li><a href="/admin/settings" class="active">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    Settings
                </a></li>
                <li><a href="/admin/reports">
                    <span class="nav-icon">üìã</span>
                    Reports
                </a></li>
                <li><a href="/logout" style="margin-top: 30px; border-top: 2px solid #eee; padding-top: 20px;">
                    <span class="nav-icon">üö™</span>
                    Logout
                </a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Page Header -->
            <div class="page-header">
                <h1 class="page-title">
                    <span>‚öôÔ∏è</span>
                    Settings
                </h1>
                <p class="page-subtitle">Configure and customize your ImiGames platform settings</p>
            </div>

            <!-- Settings Navigation -->
            <div class="settings-nav">
                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="showSection('general')">
                        <span>üåê</span>
                        General
                    </button>
                    <button class="nav-tab" onclick="showSection('appearance')">
                        <span>üé®</span>
                        Appearance
                    </button>
                    <button class="nav-tab" onclick="showSection('games')">
                        <span>üéÆ</span>
                        Games
                    </button>
                    <button class="nav-tab" onclick="showSection('users')">
                        <span>üë•</span>
                        Users
                    </button>
                    <button class="nav-tab" onclick="showSection('security')">
                        <span>üîí</span>
                        Security
                    </button>
                    <button class="nav-tab" onclick="showSection('notifications')">
                        <span>üîî</span>
                        Notifications
                    </button>
                    <button class="nav-tab" onclick="showSection('backup')">
                        <span>üíæ</span>
                        Backup
                    </button>
                    <button class="nav-tab" onclick="showSection('advanced')">
                        <span>üîß</span>
                        Advanced
                    </button>
                </div>
            </div>

            <!-- General Settings -->
            <div class="settings-section active" id="general">
                <h2 class="section-title">
                    <span>üåê</span>
                    General Settings
                </h2>
                
                <div class="settings-grid">
                    <div class="setting-group">
                        <label class="setting-label">Site Name</label>
                        <input type="text" class="setting-input" value="ImiGames.io" id="siteName">
                        <div class="setting-help">The name that appears in the browser title and throughout the site</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Site URL</label>
                        <input type="url" class="setting-input" value="https://imigames.io" id="siteUrl">
                        <div class="setting-help">The main URL for your platform</div>
                    </div>
                    
                    <div class="setting-group full-width">
                        <label class="setting-label">Site Description</label>
                        <textarea class="setting-textarea" id="siteDescription">Safe, educational, and fun online games for kids of all ages. Play instantly in your browser!</textarea>
                        <div class="setting-help">This description is used for SEO and social media sharing</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Default Language</label>
                        <select class="setting-select" id="defaultLanguage">
                            <option value="en">English</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                            <option value="it">Italian</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Timezone</label>
                        <select class="setting-select" id="timezone">
                            <option value="UTC">UTC</option>
                            <option value="America/New_York">Eastern Time (ET)</option>
                            <option value="America/Chicago">Central Time (CT)</option>
                            <option value="America/Denver">Mountain Time (MT)</option>
                            <option value="America/Los_Angeles" selected>Pacific Time (PT)</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Contact Email</label>
                        <input type="email" class="setting-input" value="admin@imigames.io" id="contactEmail">
                        <div class="setting-help">Main contact email for support and inquiries</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Support Email</label>
                        <input type="email" class="setting-input" value="support@imigames.io" id="supportEmail">
                        <div class="setting-help">Email address for user support requests</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="saveSettings('general')">
                        <span>üíæ</span>
                        Save Changes
                    </button>
                    <button class="action-btn secondary" onclick="resetSettings('general')">
                        <span>üîÑ</span>
                        Reset to Default
                    </button>
                </div>
            </div>

            <!-- Appearance Settings -->
            <div class="settings-section" id="appearance">
                <h2 class="section-title">
                    <span>üé®</span>
                    Appearance Settings
                </h2>
                
                <div class="settings-grid">
                    <div class="setting-group">
                        <label class="setting-label">Primary Color</label>
                        <div class="color-picker-group">
                            <input type="color" class="color-input" value="#ff6b6b" id="primaryColor">
                            <input type="text" class="setting-input" value="#ff6b6b" id="primaryColorText" style="width: auto;">
                        </div>
                        <div class="setting-help">Main color used throughout the interface</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Secondary Color</label>
                        <div class="color-picker-group">
                            <input type="color" class="color-input" value="#4ecdc4" id="secondaryColor">
                            <input type="text" class="setting-input" value="#4ecdc4" id="secondaryColorText" style="width: auto;">
                        </div>
                        <div class="setting-help">Secondary color for accents and highlights</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Site Logo</label>
                        <div class="upload-area" onclick="document.getElementById('logoUpload').click()">
                            <span class="upload-icon">üñºÔ∏è</span>
                            <div class="upload-text">Click to upload site logo</div>
                            <div class="upload-subtext">PNG, JPG or SVG up to 2MB</div>
                            <input type="file" id="logoUpload" class="file-input" accept="image/*">
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Favicon</label>
                        <div class="upload-area" onclick="document.getElementById('faviconUpload').click()">
                            <span class="upload-icon">üåü</span>
                            <div class="upload-text">Click to upload favicon</div>
                            <div class="upload-subtext">ICO, PNG 16x16 or 32x32 pixels</div>
                            <input type="file" id="faviconUpload" class="file-input" accept="image/*">
                        </div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Theme Style</label>
                        <select class="setting-select" id="themeStyle">
                            <option value="colorful" selected>Colorful (Current)</option>
                            <option value="minimal">Minimal</option>
                            <option value="dark">Dark Mode</option>
                            <option value="high-contrast">High Contrast</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Font Family</label>
                        <select class="setting-select" id="fontFamily">
                            <option value="comic-sans" selected>Comic Sans MS (Kid-friendly)</option>
                            <option value="arial">Arial</option>
                            <option value="helvetica">Helvetica</option>
                            <option value="open-sans">Open Sans</option>
                            <option value="roboto">Roboto</option>
                        </select>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="saveSettings('appearance')">
                        <span>üíæ</span>
                        Save Changes
                    </button>
                    <button class="action-btn secondary" onclick="previewChanges()">
                        <span>üëÅÔ∏è</span>
                        Preview Changes
                    </button>
                </div>
            </div>

            <!-- Games Settings -->
            <div class="settings-section" id="games">
                <h2 class="section-title">
                    <span>üéÆ</span>
                    Games Settings
                </h2>
                
                <div class="settings-grid">
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Auto-approve games</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="autoApprove">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Automatically approve new games without manual review</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Enable game ratings</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="enableRatings" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Allow users to rate games with stars</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Games per page</label>
                        <select class="setting-select" id="gamesPerPage">
                            <option value="12" selected>12 games</option>
                            <option value="24">24 games</option>
                            <option value="36">36 games</option>
                            <option value="48">48 games</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Default game sorting</label>
                        <select class="setting-select" id="defaultSort">
                            <option value="popular" selected>Most Popular</option>
                            <option value="newest">Newest First</option>
                            <option value="rating">Highest Rated</option>
                            <option value="alphabetical">Alphabetical</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Show play counts</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="showPlayCounts" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Display how many times each game has been played</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Enable favorites</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="enableFavorites" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Allow users to save favorite games</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Maximum file size (MB)</label>
                        <input type="number" class="setting-input" value="50" min="1" max="500" id="maxFileSize">
                        <div class="setting-help">Maximum allowed file size for game uploads</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Allowed file types</label>
                        <input type="text" class="setting-input" value="html, zip, swf, unity" id="allowedTypes">
                        <div class="setting-help">Comma-separated list of allowed file extensions</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="saveSettings('games')">
                        <span>üíæ</span>
                        Save Changes
                    </button>
                </div>
            </div>

            <!-- Security Settings -->
            <div class="settings-section" id="security">
                <h2 class="section-title">
                    <span>üîí</span>
                    Security Settings
                </h2>
                
                <div class="status-grid">
                    <div class="status-card">
                        <span class="status-icon">üõ°Ô∏è</span>
                        <div class="status-title">SSL Certificate</div>
                        <div class="status-value">Active</div>
                        <div class="status-description">Your site is secured with HTTPS</div>
                    </div>
                    
                    <div class="status-card">
                        <span class="status-icon">üîê</span>
                        <div class="status-title">Two-Factor Auth</div>
                        <div class="status-value">Enabled</div>
                        <div class="status-description">Extra security for admin accounts</div>
                    </div>
                    
                    <div class="status-card">
                        <span class="status-icon">üö´</span>
                        <div class="status-title">Failed Logins</div>
                        <div class="status-value">3</div>
                        <div class="status-description">Blocked attempts in last 24h</div>
                    </div>
                </div>
                
                <div class="security-item">
                    <div class="security-info">
                        <div class="security-title">Admin Password Requirements</div>
                        <div class="security-description">Enforce strong passwords for administrator accounts with minimum length and complexity requirements.</div>
                    </div>
                    <div class="security-status secure">
                        <span>‚úÖ</span>
                        Secure
                    </div>
                </div>
                
                <div class="security-item">
                    <div class="security-info">
                        <div class="security-title">Content Security Policy</div>
                        <div class="security-description">Protect against XSS attacks by controlling which scripts and resources can be loaded.</div>
                    </div>
                    <div class="security-status secure">
                        <span>‚úÖ</span>
                        Active
                    </div>
                </div>
                
                <div class="security-item">
                    <div class="security-info">
                        <div class="security-title">Rate Limiting</div>
                        <div class="security-description">Prevent abuse by limiting the number of requests from a single IP address.</div>
                    </div>
                    <div class="security-status warning">
                        <span>‚ö†Ô∏è</span>
                        Moderate
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="runSecurityScan()">
                        <span>üîç</span>
                        Run Security Scan
                    </button>
                    <button class="action-btn secondary" onclick="viewSecurityLogs()">
                        <span>üìú</span>
                        View Security Logs
                    </button>
                </div>
            </div>

            <!-- Backup Settings -->
            <div class="settings-section" id="backup">
                <h2 class="section-title">
                    <span>üíæ</span>
                    Backup & Recovery
                </h2>
                
                <div class="settings-grid">
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Automatic backups</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="autoBackup" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Automatically create daily backups</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Backup frequency</label>
                        <select class="setting-select" id="backupFrequency">
                            <option value="daily" selected>Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Retention period</label>
                        <select class="setting-select" id="retentionPeriod">
                            <option value="7">7 days</option>
                            <option value="30" selected>30 days</option>
                            <option value="90">90 days</option>
                            <option value="365">1 year</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Backup location</label>
                        <select class="setting-select" id="backupLocation">
                            <option value="local" selected>Local Storage</option>
                            <option value="s3">Amazon S3</option>
                            <option value="dropbox">Dropbox</option>
                            <option value="google-drive">Google Drive</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin: 30px 0;">
                    <h3 style="margin-bottom: 20px; color: #333;">Recent Backups</h3>
                    
                    <div class="backup-item">
                        <div class="backup-info">
                            <div class="backup-name">Full System Backup</div>
                            <div class="backup-date">December 24, 2024 - 2:00 AM</div>
                        </div>
                        <div class="backup-actions">
                            <button class="backup-btn" onclick="restoreBackup('latest')">Restore</button>
                        </div>
                    </div>
                    
                    <div class="backup-item">
                        <div class="backup-info">
                            <div class="backup-name">Full System Backup</div>
                            <div class="backup-date">December 23, 2024 - 2:00 AM</div>
                        </div>
                        <div class="backup-actions">
                            <button class="backup-btn" onclick="downloadBackup('dec23')">Download</button>
                            <button class="backup-btn danger" onclick="deleteBackup('dec23')">Delete</button>
                        </div>
                    </div>
                    
                    <div class="backup-item">
                        <div class="backup-info">
                            <div class="backup-name">Full System Backup</div>
                            <div class="backup-date">December 22, 2024 - 2:00 AM</div>
                        </div>
                        <div class="backup-actions">
                            <button class="backup-btn" onclick="downloadBackup('dec22')">Download</button>
                            <button class="backup-btn danger" onclick="deleteBackup('dec22')">Delete</button>
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="createBackup()">
                        <span>üíæ</span>
                        Create Backup Now
                    </button>
                    <button class="action-btn secondary" onclick="testRestore()">
                        <span>üß™</span>
                        Test Restore
                    </button>
                </div>
            </div>

            <!-- Notifications Settings -->
            <div class="settings-section" id="notifications">
                <h2 class="section-title">
                    <span>üîî</span>
                    Notification Settings
                </h2>
                
                <div class="settings-grid">
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Email notifications</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="emailNotifications" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Receive important updates via email</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">New game submissions</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="newGameNotifications" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Get notified when new games are submitted</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">User registrations</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="userRegNotifications" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Get notified about new user registrations</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">System alerts</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="systemAlerts" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Receive critical system alerts and errors</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Weekly reports</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="weeklyReports" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Receive weekly analytics and performance reports</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Security alerts</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="securityAlerts" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Immediate alerts for security incidents</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Notification email</label>
                        <input type="email" class="setting-input" value="admin@imigames.io" id="notificationEmail">
                        <div class="setting-help">Email address to receive notifications</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Digest frequency</label>
                        <select class="setting-select" id="digestFrequency">
                            <option value="realtime">Real-time</option>
                            <option value="hourly">Hourly digest</option>
                            <option value="daily" selected>Daily digest</option>
                            <option value="weekly">Weekly digest</option>
                        </select>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="saveSettings('notifications')">
                        <span>üíæ</span>
                        Save Changes
                    </button>
                    <button class="action-btn secondary" onclick="sendTestEmail()">
                        <span>üìß</span>
                        Send Test Email
                    </button>
                </div>
            </div>

            <!-- Users Settings -->
            <div class="settings-section" id="users">
                <h2 class="section-title">
                    <span>üë•</span>
                    User Settings
                </h2>
                
                <div class="settings-grid">
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Allow user registration</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="allowRegistration" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Enable new users to create accounts</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Email verification required</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="emailVerification" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Require email verification for new accounts</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Parental consent for kids</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="parentalConsent" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Require parental approval for users under 13</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Guest play allowed</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="guestPlay" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Allow users to play games without registration</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Minimum age</label>
                        <select class="setting-select" id="minimumAge">
                            <option value="0">No restriction</option>
                            <option value="3" selected>3 years</option>
                            <option value="5">5 years</option>
                            <option value="7">7 years</option>
                            <option value="13">13 years</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Session timeout (minutes)</label>
                        <input type="number" class="setting-input" value="60" min="10" max="480" id="sessionTimeout">
                        <div class="setting-help">Automatically log out inactive users</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Max login attempts</label>
                        <input type="number" class="setting-input" value="5" min="3" max="10" id="maxLoginAttempts">
                        <div class="setting-help">Block account after failed login attempts</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Account lockout duration (minutes)</label>
                        <input type="number" class="setting-input" value="30" min="5" max="1440" id="lockoutDuration">
                        <div class="setting-help">How long to lock accounts after too many failed attempts</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="saveSettings('users')">
                        <span>üíæ</span>
                        Save Changes
                    </button>
                </div>
            </div>

            <!-- Advanced Settings -->
            <div class="settings-section" id="advanced">
                <h2 class="section-title">
                    <span>üîß</span>
                    Advanced Settings
                </h2>
                
                <div class="settings-grid">
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Maintenance mode</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="maintenanceMode">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Put the site in maintenance mode for updates</div>
                    </div>
                    
                    <div class="setting-group">
                        <div class="toggle-group">
                            <label class="toggle-label">Debug mode</label>
                            <label class="toggle-switch">
                                <input type="checkbox" id="debugMode">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="setting-help">Enable detailed error logging (development only)</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Cache duration (hours)</label>
                        <input type="number" class="setting-input" value="24" min="1" max="168" id="cacheDuration">
                        <div class="setting-help">How long to cache static content</div>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">API rate limit (requests/minute)</label>
                        <input type="number" class="setting-input" value="100" min="10" max="1000" id="apiRateLimit">
                        <div class="setting-help">Maximum API requests per minute per IP</div>
                    </div>
                    
                    <div class="setting-group full-width">
                        <label class="setting-label">Custom CSS</label>
                        <textarea class="setting-textarea" id="customCSS" style="min-height: 150px;" placeholder="/* Add your custom CSS here */"></textarea>
                        <div class="setting-help">Add custom CSS to modify the appearance</div>
                    </div>
                    
                    <div class="setting-group full-width">
                        <label class="setting-label">Custom JavaScript</label>
                        <textarea class="setting-textarea" id="customJS" style="min-height: 150px;" placeholder="// Add your custom JavaScript here"></textarea>
                        <div class="setting-help">Add custom JavaScript for additional functionality</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="saveSettings('advanced')">
                        <span>üíæ</span>
                        Save Changes
                    </button>
                    <button class="action-btn danger" onclick="resetAllSettings()">
                        <span>üîÑ</span>
                        Factory Reset
                    </button>
                </div>
            </div>

            <!-- Success Message -->
            <div class="success-message" id="successMessage">
                <h3>üéâ Settings Saved Successfully!</h3>
                <p>Your changes have been applied and are now active.</p>
            </div>

            <!-- Loading Overlay -->
            <div class="loading-overlay" id="loadingOverlay">
                <div class="loading-content">
                    <div class="loading-spinner"></div>
                    <div>Saving settings...</div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let currentSection = 'general';

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            setupColorPickers();
            loadSettings();
        });

        // Mobile menu toggle
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('mobile-open');
        }

        // Show settings section
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.settings-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
            
            currentSection = sectionName;
        }

        // Setup color pickers
        function setupColorPickers() {
            const primaryColor = document.getElementById('primaryColor');
            const primaryColorText = document.getElementById('primaryColorText');
            const secondaryColor = document.getElementById('secondaryColor');
            const secondaryColorText = document.getElementById('secondaryColorText');
            
            primaryColor.addEventListener('change', function() {
                primaryColorText.value = this.value;
            });
            
            primaryColorText.addEventListener('change', function() {
                primaryColor.value = this.value;
            });
            
            secondaryColor.addEventListener('change', function() {
                secondaryColorText.value = this.value;
            });
            
            secondaryColorText.addEventListener('change', function() {
                secondaryColor.value = this.value;
            });
        }

        // Load settings from localStorage (in real app, from server)
        function loadSettings() {
            const savedSettings = localStorage.getItem('adminSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                
                // Apply saved settings to form fields
                Object.keys(settings).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        if (element.type === 'checkbox') {
                            element.checked = settings[key];
                        } else {
                            element.value = settings[key];
                        }
                    }
                });
            }
        }

        // Save settings
        function saveSettings(section) {
            showLoading(true);
            
            // Collect all form data
            const formData = {};
            const inputs = document.querySelectorAll(`#${section} input, #${section} select, #${section} textarea`);
            
            inputs.forEach(input => {
                if (input.type === 'checkbox') {
                    formData[input.id] = input.checked;
                } else if (input.type === 'file') {
                    // Handle file uploads separately
                    return;
                } else {
                    formData[input.id] = input.value;
                }
            });
            
            // Save to localStorage (in real app, send to server)
            const existingSettings = JSON.parse(localStorage.getItem('adminSettings') || '{}');
            const updatedSettings = { ...existingSettings, ...formData };
            localStorage.setItem('adminSettings', JSON.stringify(updatedSettings));
            
            setTimeout(() => {
                showLoading(false);
                showSuccessMessage();
                showNotification(`${section.charAt(0).toUpperCase() + section.slice(1)} settings saved successfully`, 'success');
            }, 2000);
        }

        // Reset settings to default
        function resetSettings(section) {
            if (confirm(`Are you sure you want to reset ${section} settings to default values? This cannot be undone.`)) {
                // Reset form fields to default values
                const inputs = document.querySelectorAll(`#${section} input, #${section} select, #${section} textarea`);
                
                inputs.forEach(input => {
                    if (input.type === 'checkbox') {
                        input.checked = input.hasAttribute('checked');
                    } else if (input.type === 'file') {
                        input.value = '';
                    } else {
                        input.value = input.getAttribute('value') || '';
                    }
                });
                
                showNotification(`${section.charAt(0).toUpperCase() + section.slice(1)} settings reset to default`, 'success');
            }
        }

        // Factory reset all settings
        function resetAllSettings() {
            if (confirm('‚ö†Ô∏è WARNING: This will reset ALL settings to factory defaults and cannot be undone. Are you absolutely sure?')) {
                if (confirm('This is your final confirmation. Reset everything?')) {
                    localStorage.removeItem('adminSettings');
                    location.reload();
                }
            }
        }

        // Preview changes
        function previewChanges() {
            const primaryColor = document.getElementById('primaryColor').value;
            const secondaryColor = document.getElementById('secondaryColor').value;
            
            // Apply colors to current page as preview
            document.documentElement.style.setProperty('--primary-color', primaryColor);
            document.documentElement.style.setProperty('--secondary-color', secondaryColor);
            
            showNotification('Preview applied! Save changes to make permanent.', 'info');
        }

        // Security functions
        function runSecurityScan() {
            showNotification('Starting comprehensive security scan...', 'info');
            
            setTimeout(() => {
                showNotification('Security scan completed. No vulnerabilities found.', 'success');
            }, 3000);
        }

        function viewSecurityLogs() {
            showNotification('Opening security logs in new window', 'info');
            // In real implementation, open security logs page
        }

        // Backup functions
        function createBackup() {
            showNotification('Creating full system backup...', 'info');
            
            setTimeout(() => {
                showNotification('Backup created successfully', 'success');
                // In real implementation, trigger backup process
            }, 5000);
        }

        function downloadBackup(backupId) {
            showNotification(`Downloading backup: ${backupId}`, 'info');
            // In real implementation, trigger backup download
        }

        function restoreBackup(backupId) {
            if (confirm(`Are you sure you want to restore the backup from ${backupId}? This will overwrite current data.`)) {
                showNotification(`Restoring backup: ${backupId}...`, 'info');
                // In real implementation, trigger restore process
            }
        }

        function deleteBackup(backupId) {
            if (confirm(`Are you sure you want to delete the backup from ${backupId}? This cannot be undone.`)) {
                showNotification(`Backup deleted: ${backupId}`, 'success');
                // In real implementation, delete backup
            }
        }

        function testRestore() {
            showNotification('Running restore test in sandbox environment...', 'info');
            
            setTimeout(() => {
                showNotification('Restore test completed successfully', 'success');
            }, 4000);
        }

        // Notification functions
        function sendTestEmail() {
            const email = document.getElementById('notificationEmail').value;
            showNotification(`Sending test email to ${email}...`, 'info');
            
            setTimeout(() => {
                showNotification('Test email sent successfully', 'success');
            }, 2000);
        }

        // Show loading overlay
        function showLoading(show) {
            const overlay = document.getElementById('loadingOverlay');
            overlay.style.display = show ? 'block' : 'none';
        }

        // Show success message
        function showSuccessMessage() {
            const message = document.getElementById('successMessage');
            message.style.display = 'block';
            
            setTimeout(() => {
                message.style.display = 'none';
            }, 3000);
        }

        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.zIndex = '10001';
            notification.style.maxWidth = '350px';
            notification.style.padding = '15px 20px';
            notification.style.borderRadius = '15px';
            notification.style.fontWeight = '600';
            notification.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.2)';
            notification.style.backdropFilter = 'blur(10px)';

            const typeColors = {
                info: { bg: 'rgba(33, 150, 243, 0.9)', color: 'white' },
                warning: { bg: 'rgba(255, 193, 7, 0.9)', color: 'white' },
                success: { bg: 'rgba(76, 175, 80, 0.9)', color: 'white' },
                error: { bg: 'rgba(244, 67, 54, 0.9)', color: 'white' }
            };

            const colors = typeColors[type] || typeColors.info;
            notification.style.background = colors.bg;
            notification.style.color = colors.color;

            const icons = {
                info: '‚ÑπÔ∏è',
                success: '‚úÖ', 
                warning: '‚ö†Ô∏è',
                error: '‚ùå'
            };

            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <span style="font-size: 1.2em;">${icons[type] || icons.info}</span>
                    <span>${message}</span>
                </div>
            `;

            document.body.appendChild(notification);

            // Animate in
            notification.style.transform = 'translateX(100%)';
            notification.style.transition = 'all 0.3s ease';
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 10);

            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(e) {
            const sidebar = document.getElementById('sidebar');
            const menuBtn = document.querySelector('.mobile-menu-btn');
            
            if (!sidebar.contains(e.target) && !menuBtn.contains(e.target)) {
                sidebar.classList.remove('mobile-open');
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case 's':
                        e.preventDefault();
                        saveSettings(currentSection);
                        break;
                    case 'r':
                        if (e.shiftKey) {
                            e.preventDefault();
                            resetSettings(currentSection);
                        }
                        break;
                }
            }
        });

        // Auto-save functionality
        let autoSaveTimer;
        function setupAutoSave() {
            const inputs = document.querySelectorAll('input, select, textarea');
            
            inputs.forEach(input => {
                input.addEventListener('input', () => {
                    clearTimeout(autoSaveTimer);
                    autoSaveTimer = setTimeout(() => {
                        // Auto-save to localStorage
                        const formData = {};
                        inputs.forEach(inp => {
                            if (inp.type === 'checkbox') {
                                formData[inp.id] = inp.checked;
                            } else if (inp.type !== 'file') {
                                formData[inp.id] = inp.value;
                            }
                        });
                        
                        localStorage.setItem('adminSettingsDraft', JSON.stringify(formData));
                    }, 2000); // Auto-save after 2 seconds of inactivity
                });
            });
        }

        // Initialize auto-save
        setupAutoSave();
    </script>
</body>
</html>